<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="/static/manifest.json">
    <title>SSTEQ-25 Control Panel</title>
    <style>
        /* Filter has some bugs on firefox
        div.redlights {
            -webkit-filter: url('#redfilter');
            -moz-filter: url('#redfilter');
            filter: url('#redfilter');
        }*/
    </style>
    <link rel="stylesheet" type="text/css" id='bootstrapcss' href="bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" id='maincss' href="main.css"/>
    <script src="jquery-3.2.1.min.js"></script>
    <script src="lodash.min.js"></script>
    <script src="fontawesome-all.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="socket.io.2.0.4.js"></script>
    <script src="steq25.js"></script>
    <script>
        //screen.orientation.lock('portrait');
    </script>
</head>
<body>
<nav class="navbar fixed-bottom">
    RADEC:<span id="status_radec"></span>|
    AltAz:<span id="status_altaz"></span>|
    R S/T: <span id="status_ra_ticks"></span>|
    D S/T: <span id="status_dec_ticks"></span>|
    Location: <span id="location"></span>|
    Time: <span id="status_time"></span>
</nav>
<div class="redlights">
<div class="direction-controls">
    <br/>
    <div class="container-fluid">
        <div class="btn-group" data-toggle="buttons">
            <label class="btn btn-primary active">
                <input type="radio" id="direction-controls-speed-fastest" name="direction-controls-speed"
                       value="fastest"
                       autocomplete="off" checked> Speed Fastest
            </label>
            <label class="btn btn-primary">
                <input type="radio" id="direction-controls-speed-faster" name="direction-controls-speed" value="faster"
                       autocomplete="off"> Faster
            </label>
            <label class="btn btn-primary">
                <input type="radio" id="direction-controls-speed-medium" name="direction-controls-speed" value="medium"
                       autocomplete="off"> Medium
            </label>
            <label class="btn btn-primary">
                <input type="radio" id="direction-controls-speed-slower" name="direction-controls-speed" value="slower"
                       autocomplete="off"> Slower
            </label>
            <label class="btn btn-primary">
                <input type="radio" id="direction-controls-speed-slowest" name="direction-controls-speed"
                       value="slowest" autocomplete="off">Speed Slowest
            </label>
        </div>
    </div>
    <table class="direction-controls">
        <tbody>
        <tr>
            <td>
                <button type="button" id="direction-controls-up-left"><i
                        class="fas fa-arrow-circle-left fa-5x cfa-rotate-45"></i></button>
            </td>
            <td>
                <button type="button" id="direction-controls-up"><i class="fas fa-arrow-circle-up fa-5x"></i></button>
            </td>
            <td>
                <button type="button" id="direction-controls-up-right"><i
                        class="fas fa-arrow-circle-up fa-5x cfa-rotate-45"></i></button>
            </td>
        </tr>
        <tr>
            <td>
                <button type="button" id="direction-controls-left"><i class="fas fa-arrow-circle-left fa-5x"></i>
                </button>
            </td>
            <td><img src="logo-dred.png">
                &nbsp;
            </td>
            <td>
                <button type="button" id="direction-controls-right"><i class="fas fa-arrow-circle-right fa-5x"></i>
                </button>
            </td>
        </tr>
        <tr>
            <td>
                <button type="button" id="direction-controls-down-left"><i
                        class="fas fa-arrow-circle-down fa-5x cfa-rotate-45"></i></button>
            </td>
            <td>
                <button type="button" id="direction-controls-down"><i class="fas fa-arrow-circle-down fa-5x"></i>
                </button>
            </td>
            <td>
                <button type="button" id="direction-controls-down-right"><i
                        class="fas fa-arrow-circle-right fa-5x cfa-rotate-45"></i></button>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div class="container-fluid">
    <ul class="nav nav-tabs nav-justified" id="mainTab" role="tablist">
        <li class="nav-item"><a class="nav-link active" id="goto-tab" data-toggle="tab" href="#goto" role="tab"
                                aria-controls="goto" aria-selected="true">Goto/Sync</a></li>
        <li class="nav-item"><a class="nav-link" id="locationt-tab" data-toggle="tab" href="#locationt" role="tab"
                                aria-controls="locationt" aria-selected="false">Location</a></li>
        <li class="nav-item"><a class="nav-link" id="othersettings-tab" data-toggle="tab"
                                href="#othersettings" role="tab" aria-controls="othersettings" aria-selected="false">Other
            Settings</a></li>
    </ul>
    <div class="tab-content" id="mainTabContent">
        <div class="goto tab-pane fade show active" role="tabpanel" id="goto" aria-labelledby="goto-tab">
            <h3>Object Search</h3>
            <div class="form-group row">
                <label for="search_txt" class="col-sm-2 col-form-label">Search</label>
                <div class="col-sm-10">
                    <input class="form-control" id="search_txt" type="text"/>
                </div>
            </div>
            <div>
                Search for stars or objects. For example "Vega" or "M 100".
            </div>
            <div style="font-size: 80%">DSO and Star database based on <a href="http://www.astronexus.com/hyg">The
                HYG
                Database</a></div>
            <div>
                <span id="search_info"></span>
                <div id="search_spinner" class="fa-3x" style="display:none;"><i class="fas fa-spinner fa-pulse"></i>
                </div>
                <table id="search_results" style="" class="table table-striped table-hover">
                    <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">RA/Dec</th>
                        <th scope="col">Alt-Az</th>
                        <th scope="col">Mag</th>
                        <th scope="col">Size</th>
                        <th scope="col">Sync</th>
                        <th scope="col">Slew</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <h4>Manual</h4>
            <div class="container-fluid">
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-primary active">
                        <input type="radio" id="goto_manual_coord_select-radec" name="goto_manual_coord_select"
                               value="radec"
                               autocomplete="off" checked> RA/DEC
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" id="goto_manual_coord_select-altaz" name="goto_manual_coord_select"
                               value="altaz"
                               autocomplete="off"> Alt/Az
                    </label>
                </div>
            </div>
            <div id="goto_manual_coord_radec">
                <div class="form-group row">
                    <label for="goto_manual_ra" class="col-sm-2 col-form-label">
                        RA
                    </label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="goto_manual_ra" placeholder="hh mm ss.s"><br/>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="goto_manual_dec" class="col-sm-2 col-form-label">
                        DEC
                    </label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="goto_manual_dec" placeholder="±dd mm ss.s"><br/>
                    </div>
                </div>
            </div>
            <div id="goto_manual_coord_altaz" style="display:none">
                <div class="form-group row">
                    <label for="goto_manual_alt" class="col-sm-2 col-form-label">
                        Alt
                    </label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="goto_manual_alt" placeholder="±dd mm ss.s"><br/>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="goto_manual_az" class="col-sm-2 col-form-label">
                        Az
                    </label>
                    <div class="col-sm-10">
                        <input class="form-control" type="text" id="goto_manual_az" placeholder="ddd mm ss.s"><br/>
                    </div>
                </div>
            </div>
            <button id="manual_sync" type="button" class="btn btn-primary"><i class="fas fa-sync" alt="Sync"></i>Sync
            </button>&nbsp;<button id="manual_slewto" type="button" class="btn btn-primary"><i
                class="far fa-play-circle"></i>Slew To
        </button>
        </div>
        <div class="tab-pane fade" id="locationt" role="tabpanel" aria-labelledby="locationt-tab">
            <h5>Search</h5>
            <div>Search for a location by US Zip code or city name. For example "66044" or "Lawrence, KS".</div>
            <div style="font-size: 80%">Zip code database from GeoNames (<a href="geonames.org">geonames.org</a>)</div>
            <div class="form-group row">
                <label for="location_search_txt" class="col-sm-2 col-form-label">Search</label>
                <div class="col-sm-10">
                    <input class="form-control" id="location_search_txt" type="text"/><br/>
                </div>
            </div>

            <div>
                <span id="location_search_info"></span>
                <div id="location_search_spinner" class="fa-3x" style="display:none;"><i
                        class="fas fa-spinner fa-pulse"></i></div>
                <table id="location_search_results" style="" class="table table-hover table-striped">
                    <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">Lat/Long</th>
                        <th scope="col">Action</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <h5>Manual</h5>
            <div>Or you can put in coordinates manually. For example, Lat: N39 1' 44", Long: W95 12' 31" or Lat:
                "39.0289"
                Long: "-95.2086"
            </div>
            <div class="form-group row">
                <label for="manual_lat" class="col-sm-2 col-form-label">
                    Lat
                </label>
                <div class="col-sm-10">
                    <input class="form-control" id="manual_lat">
                </div>
            </div>
            <div class="form-group row">
                <label for="manual_long" class="col-sm-2 col-form-label">
                    Long
                </label>
                <div class="col-sm-10">
                    <input class="form-control" id="manual_long">
                </div>
            </div>
            <div class="form-group row">
                <label for="manual_name" class="col-sm-2 col-form-label">
                    Name
                </label>
                <div class="col-sm-10">
                    <input class="form-control" id="manual_name">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-10">
                    <button id="location_manual_set" type="button" class="btn btn-primary"><i class="fas fa-globe"></i>Set
                        Location
                    </button>
                    <button id="location_manual_unset" type="button" class="btn btn-primary"><i
                            class="fas fa-globe"></i>Unset
                        Location
                    </button>

                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="othersettings" role="tabpanel" aria-labelledby="othersettings-tab">
            <br/>
            <div class="form-group">
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-primary active">
                        <input type="radio" id="settings-color-scheme-default" name="settings-color-scheme"
                               value="default"
                               autocomplete="off" checked> Default Color Scheme
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" id="settings-color-scheme-nightvision" name="settings-color-scheme" value="redlights"
                               autocomplete="off"> Night-Vision Color Scheme
                    </label>
                </div>
            </div>
            <br/>
            Park Position (Alt-Az): <span id="settings_park_position"></span>
            <div class="form-group">
                <button id="settings_park" type="button" class="btn btn-primary">Park Scope</button>&nbsp;
                <button id="settings_set_park_position" type="button" class="btn btn-primary">
                    Set
                    Park
                    Position to Current Position
                </button>
                <button id="settings_unset_park_position" type="button"
                        class="btn btn-primary">
                    Unset
                    Park
                    Position
                </button>
                <br/><br/>
                <button id="settings_start_tracking" type="button"
                        class="btn btn-primary">
                    Start tracking
                </button>
                <button id="settings_stop_tracking" type="button"
                        class="btn btn-primary">
                    Stop tracking
                </button>
            </div>

            <div class="form-group">
                <div class="col-md-1">
                    <input id="showAdvancedSettings" class="form-check-input" type="checkbox" value=""
                           data-toggle="collapse"
                           data-target="#advancedSettings" aria-expanded="false"
                           aria-controls="advancedSettings">
                    <label class="form-check-label" for="showAdvancedSettings">Show&nbsp;Advanced&nbsp;Settings</label>
                </div>
            </div>

            <div class="collapse" id="advancedSettings">
                <div class="form-group">
                    <label for="settings_ra_track_rate">
                        RA Tracking Steps/Second
                    </label>
                    <input class="form-control" id="settings_ra_track_rate" type="text"/>
                </div>

                <div class="form-group">
                    <label for="settings_dec_ticks_per_degree">
                        DEC Steps/Degree
                    </label>
                    <input class="form-control" id="settings_dec_ticks_per_degree" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_direction">
                        RA Direction
                    </label>
                    <input class="form-control" id="settings_ra_direction" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_direction">
                        DEC Direction
                    </label>
                    <input class="form-control" id="settings_dec_direction" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_guide_rate">
                        RA Guide Steps/Sec (Change from tracking, not absolute)
                    </label>
                    <input class="form-control" id="settings_ra_guide_rate" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_slew_fastest">
                        RA Slew-Fastest Steps/Sec
                    </label>
                    <input class="form-control" id="settings_ra_slew_fastest" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_slew_faster">
                        RA Slew-Faster Steps/Sec
                    </label>
                    <input class="form-control" id="settings_ra_slew_faster" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_slew_medium">
                        RA Slew-Medium Steps/Sec
                    </label>
                    <input class="form-control" id="settings_ra_slew_medium" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_slew_slower">
                        RA Slew-Slower Steps/Sec
                    </label>
                    <input class="form-control" id="settings_ra_slew_slower" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_ra_slew_slowest">
                        RA Slew-Slowest Steps/Sec
                    </label>
                    <input class="form-control" id="settings_ra_slew_slowest" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_guide_rate">
                        DEC Guide Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_guide_rate" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_slew_fastest">
                        DEC Slew-Fastest Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_slew_fastest" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_slew_faster">
                        DEC Slew-Faster Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_slew_faster" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_slew_medium">
                        DEC Slew-Medium Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_slew_medium" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_slew_slower">
                        DEC Slew-Slower Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_slew_slower" type="text"/>
                </div>
                <div class="form-group">
                    <label for="settings_dec_slew_slowest">
                        DEC Slew-Slowest Steps/Sec
                    </label>
                    <input class="form-control" id="settings_dec_slew_slowest" type="text"/>
                </div>
                <div class="form-group">
                    <button id="settings_save" type="button" class="btn btn-primary">Save Advanced Settings</button>
                    <span id="settings_save_status"></span><br/>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="errorInfoModal" tabindex="-1" role="dialog" aria-labeledby="errorInfoModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorInfoModalTitle">Error</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="errorInfoModalBody">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="slewModal" tabindex="-1" role="dialog" aria-labeledby="slewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="slewModalTitle">Slewing</h5>
            </div>
            <div class="modal-body" id="slewModalBody">
                Position: <span id="slewModalStatus"></span><span id="slewModalAltAzStatus"></span><br/>
                Target: <span id="slewModalTarget"></span>
                <br/>
                Slewing...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="slewModalCancel">Cancel Slew</button>
            </div>
        </div>
    </div>
</div>
<svg>
    <filter id="redfilter">
        <feColorMatrix in="SourceGraphic"
                       type="matrix"
                       values=".21 .72 0.07 0 0
                               0 0 0 0 0
                               0 0 0 0 0
                               0 0 0 1 0"/>
    </filter>
</svg>
</div>
</body>
</html>
